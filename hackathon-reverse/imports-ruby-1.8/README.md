This is https://github.com/SoTeSoLa/SoTeSoLa/tree/master/hackathon-reverse/imports-ruby optimized for readability. ;-)

Works in Ruby 1.8 and 1.9.
